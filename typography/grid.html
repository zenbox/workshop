<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1" />
        <title>Raster</title>
        <link
            rel="stylesheet"
            href="../assets/css/style.css" />

        <link
            rel="stylesheet"
            href="../assets/css/examples.css" />
    </head>
    <body>
        <header>
            <h1>Raster</h1>
        </header>
        <main>
            <article>
                <h2>Raster</h2>
                <p>
                    Raster gehören zu den wichtigsten typografischen Werkzeugen.
                    Sie bilden das System, mit dem das Layout und die Inhalte
                    einer Seite positioniert werden.
                </p>
                <p>
                    Raster teilen den Raum ein, der für eine Publikation zur
                    Verfügung steht. Ein Raster definiert:
                </p>
                <ul>
                    <li>Die Seiten- oder Viewport-Größe,</li>
                    <li>die Seitenränder,</li>
                    <li>die Grundlinien, auf denen die Schrift läuft</li>
                    <li>Spaltenhilfslinen</li>
                    <li>
                        und/oder Bereiche, in denen Inhalte oder Inhaltsgruppen
                        platziert werden.
                    </li>
                </ul>

                <figure>
                    <img
                        src="../assets/figures/typography/grid-1.svg"
                        alt="" />
                    <figcaption>
                        Ein einfaches Raster mit Fläche, Seitenrand und
                        Grundlinien. Die Satzspiegel-Breite ist in 6 Spalten
                        eingeteilt.
                    </figcaption>
                </figure>
            </article>

            <article>
                <h2>Design mit Schrift und Raster</h2>
                <figure>
                    <img
                        src="../assets/figures/typography/grid-2.svg"
                        alt="" />
                    <figcaption>
                        Texte, Bilder und andere Elemente ordnen sich dem
                        Grundlinienraster und der Seiteneinteilung unter. So
                        entsteht eine "innere" Ordnung. Ich möchte damit
                        übrigens nicht sagen, dass ich das Beispiel
                        gestalterisch gelungen finde.
                    </figcaption>
                </figure>

                <h2>Raster in HTML und CSS</h2>

                <p>
                    Eine fundamentale Einstellung ist die der Schriftgröße bzw.
                    des Zeilenabstandes. Alle Texte laufen (in der Theorie) in
                    einem einheitlichen Linienraster. Auch Elemente wie Bilder
                    oder Schaltflächen verwenden die Grundlinien als
                    Positionierung.
                </p>
                <p>
                    Was in einem Layout-Programm wie Adobe Indesign oder
                    Affinity Publisher via "Knopfdruck" einfach eingstellt ist,
                    lässt sich in einer Browser-Umsetzung nicht "anschalten", es
                    gibt keine CSS-Funktion, die das könnte.
                </p>
                <p>
                    In CSS kann ein grundlegender Zeilenabstand eingestellt
                    werden (in der Regel z.B.
                    <code>html|:root { line-height: 1.5; }</code>), die
                    Positionierung der Container folgt dem Zeilenabstand aber
                    nicht. Eine 100%-ige Umsetzung des Rasters ist in HTML und
                    CSS nur möglich mit entsprechend angepassten Werten für
                    <code>margin-block</code>, <code>padding-block</code>- und
                    <code>align-items|align-self: first baseline;</code>.
                </p>

                <h3>
                    Ein Raster mit <code>display : grid;</code> und
                    <code>line-height</code>
                </h3>

                <samp>
                    <figure id="typography-grid-1">
                        <div
                            class="container"
                            style="margin-block: 2rem">
                            <div class="column">1</div>
                            <div class="column">2</div>
                            <div class="column">3</div>
                            <div class="column">4</div>
                            <div class="column">5</div>
                            <div class="column">6</div>
                        </div>
                        <figcaption>
                            Die folgenden HTML- bzw. CSS-Umsetzung der Angaben
                            machen das das Raster nicht unbedingt deutlich, sind
                            aber korrekt. Designer und Entwickler sprechen hier
                            nicht dieselbe Sprache.
                        </figcaption>
                    </figure>
                </samp>

                <samp>
                    <textarea>
<div class="container">
    <div class="column">1</div>
    <div class="column">2</div>
    <div class="column">3</div>
    <div class="column">4</div>
    <div class="column">5</div>
    <div class="column">6</div>
</div></textarea
                    >
                </samp>

                <samp>
                    <code>
                        <pre>
html {
    /* - - - - - - - - - -
     * Grundlinien 
     * - - - - - - - - - */
    font-size: 12px;
    line-height: 1.5; 
}
.container {
    /* - - - - - - - - - -
    * Spalten-Einteilung 
    * - - - - - - - - - */
    display: grid;
    grid-template-columns: repeat(6, 1fr); 
    grid-gap: 0.5rem;
}
.column {
    grid-column: span 1;
}</pre
                        >
                    </code>
                </samp>

                <h3>Raster-Varianten</h3>
                <p>
                    In der Regel wird ein Raster in 12 oder 16 Spalten
                    eingeteilt. Die Spaltenbreite wird in der Regel in
                    Prozentwerten angegeben, die sich auf die Gesamtbreite des
                    Satzspiegels beziehen. Das kann über
                    <code>display:grid;</code> oder auch über
                    <code>display:flex;</code> umgesetzt werden.
                </p>

                <samp
                    ><figure>
                        <code>
                            <pre>
.container {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-gap: 0.5rem;
}
.column {
    grid-column: span 1;
}

/* oder */

.container {
    display: flex;
    flex-wrap: wrap;
}
.column {
    flex: 0 0 8.333%;
    max-width: 8.333%;
}
</pre
                            >
                        </code>
                    </figure></samp
                >
            </article>

            <article>
                <h2>Umsetzung in einem Grundlinien-Raster</h2>
                <samp>
                    <script>
                        function createBaselineGrid() {
                            const container = document.querySelector(
                                "#card-example .container"
                            );
                            const lineHeight = parseFloat(
                                getComputedStyle(container).lineHeight
                            );
                            const containerHeight = container.clientHeight;

                            console.log(lineHeight, containerHeight);

                            const existingBaselineGrid =
                                document.querySelector("#baseline-grid");
                            if (existingBaselineGrid) {
                                existingBaselineGrid.remove();
                            }

                            const svgNS = "http://www.w3.org/2000/svg";
                            const svg = document.createElementNS(svgNS, "svg");
                            svg.setAttribute("class", "background-svg");
                            svg.setAttribute("width", "100%");
                            svg.setAttribute("height", "100%");

                            svg.id = "baseline-grid";

                            for (
                                let y = lineHeight;
                                y < containerHeight;
                                y += lineHeight
                            ) {
                                const line = document.createElementNS(
                                    svgNS,
                                    "line"
                                );
                                line.setAttribute("x1", "0");
                                line.setAttribute("y1", y);
                                line.setAttribute("x2", "100%");
                                line.setAttribute("y2", y);
                                line.setAttribute("stroke", "lightgray");
                                line.setAttribute("stroke-width", "1");
                                svg.appendChild(line);
                            }
                            container.appendChild(svg);
                        }

                        function setDisplayButton() {
                            const displayGridButton = document.querySelector(
                                "button#display-grid"
                            );

                            displayGridButton.classList.add(
                                "display-grid--active"
                            );

                            displayGridButton.addEventListener(
                                "click",
                                function () {
                                    const svg =
                                        document.querySelector(
                                            "#baseline-grid"
                                        );

                                    if (svg.style.display === "none") {
                                        createBaselineGrid();
                                        displayGridButton.classList.add(
                                            "display-grid--active"
                                        );
                                        displayGridButton.classList.remove(
                                            "display-grid--inactive"
                                        );
                                        svg.style.display = "block";
                                        console.log("lala");
                                    } else {
                                        console.log("lala");
                                        svg.style.display = "none";
                                        displayGridButton.classList.remove(
                                            "display-grid--active"
                                        );
                                        displayGridButton.classList.add(
                                            "display-grid--inactive"
                                        );
                                    }
                                }
                            );
                        }
                        // Aufrufen der Funktion, um das Grundlinienraster zu erstellen
                        document.addEventListener(
                            "DOMContentLoaded",
                            function () {
                                setTimeout(function () {
                                    createBaselineGrid();
                                    setDisplayButton();
                                }, 2000);
                            }
                        );
                    </script>
                    <style>
                        .background-svg {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            z-index: 1;
                        }
                    </style>
                    <figure id="card-example">
                        <div class="container">
                            <picture>
                                <img
                                    src="https://picsum.photos/id/821/240/250"
                                    alt="Ein Beispiel für eine Card" />
                            </picture>
                            <h2>Agnes Muster</h2>
                            <h3>Entwicklerin, Köln</h3>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur in
                                ventore nihil, maxime, maiores vo luptatibus
                                obcaecati delectus, simili que repellendus id ab
                                fugit! Veniam.
                            </p>
                            <ul>
                                <li><span>Lorem ipsum</span><span>12</span></li>
                                <li>
                                    <span>Inventore nihil</span><span>15</span>
                                </li>
                                <li>
                                    <span>Voluptati bus</span><span>*****</span>
                                </li>
                            </ul>

                            <button>Jetzt einstellen</button>
                            <button>Nachricht schicken</button>
                        </div>
                        <figcaption>
                            Alle Texte sowie das Bild sind an das
                            Grundlinenraster gebunden. Lediglich die Höhe der
                            Schaltflächen nimmt einen direkten Bezug zu einer
                            Grundlinie auf. <button id="display-grid"></button>
                        </figcaption>
                    </figure>
                </samp>
            </article>
        </main>

        <script src="../assets/js/scaffold.js"></script>
    </body>
</html>
